<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>single thread test</title>
    <script
      data-ad-client="ca-pub-6422849673216735"
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
    ></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170472187-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-170472187-1");
    </script>
  </head>
  <body>
    <h1>Main page</h1>
    <div class="invader-container">
      <svg id="invader" xmlns="http://www.w3.org/2000/svg" viewBox="35.4 35.4 195.8 141.8">
        <path
          d="M70.9 35.4v17.8h17.7V35.4H70.9zm17.7 17.8v17.7H70.9v17.7H53.2V53.2H35.4V124h17.8v17.7h17.7v17.7h17.7v-17.7h88.6v17.7h17.7v-17.7h17.7V124h17.7V53.2h-17.7v35.4h-17.7V70.9h-17.7V53.2h-17.8v17.7H106.3V53.2H88.6zm88.6 0h17.7V35.4h-17.7v17.8zm17.7 106.2v17.8h17.7v-17.8h-17.7zm-124 0H53.2v17.8h17.7v-17.8zm17.7-70.8h17.7v17.7H88.6V88.6zm70.8 0h17.8v17.7h-17.8V88.6z"
        />
        <path
          d="M319 35.4v17.8h17.6V35.4H319zm17.6 17.8v17.7H319v17.7h-17.7v17.7h-17.7V159.4h17.7V124h17.7v35.4h17.7v-17.7H425.2v17.7h17.7V124h17.7v35.4h17.7V106.3h-17.7V88.6H443V70.9h-17.7V53.2h-17.7v17.7h-53.2V53.2h-17.7zm88.6 0h17.7V35.4h-17.7v17.8zm0 106.2h-35.5v17.8h35.5v-17.8zm-88.6 0v17.8h35.5v-17.8h-35.5zm0-70.8h17.7v17.7h-17.7V88.6zm70.9 0h17.7v17.7h-17.7V88.6z"
        />
      </svg>
    </div>
    <h1>sameorigin</h1>
    <iframe src="./iframe.html"></iframe>
    <br />
    <h1>crossorigin</h1>
    
    <script>
    main();

      async function main(){
      let fr = await fetch('./iframe.html');
      let frt=await fr.text();
     // let frj = await fetch('./iframe.js');
     // let frtj=await frj.text();
      let btf=frt;//.split('</body>')[0] + '<script>' +frtj+decodeURI('%3C%2Fscript%3E%3C%2Fbody%3E');
      let bt = btoa( btf );
      let sr='data:text/html;charset=utf-8;base64,' + bt;
      var crf = document.createElement('iframe');
      crf.src = 'data:text/html;charset=utf-8;base64,Cgo8IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgoJPGhlYWQ+CgkJPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CgkJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiIC8+CgkJPHRpdGxlPklmcmFtZTwvdGl0bGU+CgkJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzdHlsZXMuY3NzIiAvPgoJPC9oZWFkPgoJPGJvZHk+CgkJPHN2ZyBpZD0iaW52YWRlciIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIzNS40IDM1LjQgMTk1LjggMTQxLjgiPgoJCQk8cGF0aAoJCQkJZD0iTTcwLjkgMzUuNHYxNy44aDE3LjdWMzUuNEg3MC45em0xNy43IDE3Ljh2MTcuN0g3MC45djE3LjdINTMuMlY1My4ySDM1LjRWMTI0aDE3Ljh2MTcuN2gxNy43djE3LjdoMTcuN3YtMTcuN2g4OC42djE3LjdoMTcuN3YtMTcuN2gxNy43VjEyNGgxNy43VjUzLjJoLTE3Ljd2MzUuNGgtMTcuN1Y3MC45aC0xNy43VjUzLjJoLTE3Ljh2MTcuN0gxMDYuM1Y1My4ySDg4LjZ6bTg4LjYgMGgxNy43VjM1LjRoLTE3Ljd2MTcuOHptMTcuNyAxMDYuMnYxNy44aDE3Ljd2LTE3LjhoLTE3Ljd6bS0xMjQgMEg1My4ydjE3LjhoMTcuN3YtMTcuOHptMTcuNy03MC44aDE3Ljd2MTcuN0g4OC42Vjg4LjZ6bTcwLjggMGgxNy44djE3LjdoLTE3LjhWODguNnoiCgkJCS8+CgkJCTxwYXRoCgkJCQlkPSJNMzE5IDM1LjR2MTcuOGgxNy42VjM1LjRIMzE5em0xNy42IDE3Ljh2MTcuN0gzMTl2MTcuN2gtMTcuN3YxNy43aC0xNy43VjE1OS40aDE3LjdWMTI0aDE3Ljd2MzUuNGgxNy43di0xNy43SDQyNS4ydjE3LjdoMTcuN1YxMjRoMTcuN3YzNS40aDE3LjdWMTA2LjNoLTE3LjdWODguNkg0NDNWNzAuOWgtMTcuN1Y1My4yaC0xNy43djE3LjdoLTUzLjJWNTMuMmgtMTcuN3ptODguNiAwaDE3LjdWMzUuNGgtMTcuN3YxNy44em0wIDEwNi4yaC0zNS41djE3LjhoMzUuNXYtMTcuOHptLTg4LjYgMHYxNy44aDM1LjV2LTE3LjhoLTM1LjV6bTAtNzAuOGgxNy43djE3LjdoLTE3LjdWODguNnptNzAuOSAwaDE3Ljd2MTcuN2gtMTcuN1Y4OC42eiIKCQkJLz4KCQk8L3N2Zz4KCQk8c2NyaXB0PmNvbnN0IHZpZXdYID0gWzM1LjQsIDI4My42XSwKCWludmFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW52YWRlciIpOwpsZXQgZnJhbWUgPSAwOwpzZXRJbnRlcnZhbCgoKSA9PiB7CglmcmFtZSA9ICsrZnJhbWUgJSAyOwoJaW52YWRlci52aWV3Qm94LmJhc2VWYWwueCA9IHZpZXdYW2ZyYW1lXTsKfSwgMjAwKTs8L3NjcmlwdD4KCTwvYm9keT4KPC9odG1sPgo=';//sr;
      document.body.appendChild(crf);
      }
    </script>
    
    <script src="./index.js"></script>
  </body>
</html>
